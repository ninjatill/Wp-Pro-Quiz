function wpProQuiz_fetchToplist(){var t=this;t.toplist={handleRequest:function(t){jQuery(".wpProQuiz_toplist").each(function(){var e=jQuery(this),i=t[e.data("quiz_id")],n=e.find("tbody tr"),o=n.eq(2);if(n.slice(3).remove(),null==i)return n.eq(0).hide().end().eq(1).show(),!0;for(var r=0,a="",u=0,d=i.length;u<d;u++){var s=o.clone().children();if(-1==a.indexOf(i[u].name)){r++,a=a+i[u].name+":";for(var l=0,p=0,h=i.length;p<h;p++)i[p].name==i[u].name&&l++;s.eq(0).text(r),s.eq(1).text(i[u].name),s.eq(2).text(i[u].date),s.eq(3).text(l),s.eq(4).text(i[u].points),s.eq(5).text(i[u].result+" %"),1&r&&s.addClass("wpProQuiz_toplistTrOdd"),s.parent().show().appendTo(e.find("tbody"))}}n.eq(0).hide(),n.eq(1).hide()})},fetchIds:function(){var t=new Array;return jQuery(".wpProQuiz_toplist").each(function(){t.push(jQuery(this).data("quiz_id"))}),t},init:function(){var e=t.toplist.fetchIds();0!=e.length&&jQuery.post(WpProQuizGlobal.ajaxurl,{action:"wp_pro_quiz_admin_ajax",func:"showFrontToplist",data:{quizIds:e}},function(e){t.toplist.handleRequest(e)},"json")}},t.toplist.init()}jQuery(document).ready(wpProQuiz_fetchToplist);
