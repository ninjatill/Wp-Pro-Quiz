function wpProQuiz_fetchToplist(){var t=this;t.toplist={handleRequest:function(t){jQuery(".wpProQuiz_toplist").each(function(){var e=jQuery(this),i=t[e.data("quiz_id")],n=e.find("tbody tr"),o=n.eq(2);if(n.slice(3).remove(),null==i)return n.eq(0).hide().end().eq(1).show(),!0;for(var r="",a=0,u=i.length;a<u;a++){var d=o.clone().children();if(-1==r.indexOf(i[a].name)){0,r=r+i[a].name+":";for(var s=0,l=0,p=i.length;l<p;l++)i[l].name==i[a].name&&s++;d.eq(0).text(a+1),d.eq(1).text(i[a].name),d.eq(2).text(i[a].date),d.eq(3).text(s),d.eq(4).text(i[a].points),d.eq(5).text(i[a].result+" %"),1&a&&d.addClass("wpProQuiz_toplistTrOdd"),d.parent().show().appendTo(e.find("tbody"))}}n.eq(0).hide(),n.eq(1).hide()})},fetchIds:function(){var t=new Array;return jQuery(".wpProQuiz_toplist").each(function(){t.push(jQuery(this).data("quiz_id"))}),t},init:function(){var e=t.toplist.fetchIds();0!=e.length&&jQuery.post(WpProQuizGlobal.ajaxurl,{action:"wp_pro_quiz_admin_ajax",func:"showFrontToplist",data:{quizIds:e}},function(e){t.toplist.handleRequest(e)},"json")}},t.toplist.init()}jQuery(document).ready(wpProQuiz_fetchToplist);
